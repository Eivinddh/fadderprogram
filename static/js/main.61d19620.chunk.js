(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports=a.p+"static/media/tekna-logo.04ca97dd.jpg"},201:function(e,t,a){e.exports=a(353)},206:function(e,t,a){},213:function(e,t,a){},221:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},343:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),i=a(186),o=a(41),s=(a(206),a(9)),u=a(6),m=a(89),d=a(24),f=a(23),E={WELCOME_NO:"Velkommen!",WELCOME_EN:"Welcome!",WELCOME_SUBTITLE_NO:"For \xe5 kunne gi deg relevant informasjon, trenger vi \xe5 vite hvilken gruppe du tilh\xf8rer. Du kan g\xe5 tilbake og endre dette senere ved \xe5 klikke p\xe5 gruppenavnet ditt!",WELCOME_SUBTITLE_EN:"To provide you with relevant information, we need to know which group you belong to. You can go back and change this later by clicking on your group name!",GROUP_PLACEHOLDER_NO:"Velg gruppe...",GROUP_PLACEHOLDER_EN:"Select group...",WELCOME_SCREEN_BUTTON_LABEL_NO:"Jeg er klar",WELCOME_SCREEN_BUTTON_LABEL_EN:"I'm ready",ERROR_TITLE_NO_NO:"Du m\xe5 fylle inn norsk tittel",ERROR_TITLE_EN_NO:"Du m\xe5 fylle inn engelsk tittel",ERROR_DAY_NO:"Du m\xe5 velge en dag",ERROR_START_TIME_NO:"Velg starttidspunkt (hh:mm)",ERROR_END_TIME_NO:"Fyll ut hele sluttidspunktet",ERROR_DESC_NO_NO:"Du m\xe5 fylle inn norsk beskrivelse",ERROR_DESC_EN_NO:"Du m\xe5 fylle inn engelsk beskrivelse",ERROR_GROUPS_NO:"Du m\xe5 velge gruppe(r) arrangementet gjelder for",ERROR_LINK_NO:"Du kan ikke ha lenketekst uten lenke",EMERGENCY_PHONE_NUMBER_NO:"Vakttelefon",EMERGENCY_PHONE_NUMBER_EN:"Mentor board",PHONE_NUMBER_NO:"909 86 911",PHONE_NUMBER_EN:"909 86 911",CHANGE_GROUP_CONFIRMATION_NO:"Er du sikker p\xe5 at du vil bytte gruppe?",CHANGE_GROUP_CONFIRMATION_EN:"Are you sure you want to change group?",NO_CANCEL_NO:"Nei, avbryt",NO_CANCEL_EN:"No, cancel",YES_CHANGE_GROUP_NO:"Ja, bytt",YES_CHANGE_GROUP_EN:"Yes, change"},g=function(e,t){var a="".concat(e,"_").concat(t);return a in E?E[a]:e},b=function(e,t){return t&&t.lang?g(e,t.lang):g(e,"NO")},p=a(188),v=function(e){var t=e.group,a=e.setGroup,l=e.setCookie,c=e.groupNames,i=Object(n.useContext)(H),o=Object(u.a)(i,1)[0],m=Object(n.useState)(t),E=Object(u.a)(m,2),g=E[0],v=E[1],O=o.lang?o.lang:"NO",N=c?c.map(function(e){var t=e.id,a=e.label_nor,n=e.label_eng;return{value:t,label:"NO"===O?a:n,label_nor:a,label_eng:n}}).sort(function(e,t){return parseInt(e.value)-parseInt(t.value)}):[],h={container:function(e){return Object(s.a)({},e,{width:"100%",marginBottom:20})},option:function(e){return Object(s.a)({},e,{fontSize:"0.8rem"})},menu:function(e){return Object(s.a)({},e,{marginTop:0})}},k=g&&{label:"NO"===O?g.label_nor:g.label_eng},y=b("WELCOME",o),_=b("WELCOME_SUBTITLE",o),j=b("GROUP_PLACEHOLDER",o),C=b("WELCOME_SCREEN_BUTTON_LABEL",o);return r.a.createElement("div",{className:"welcome-screen"},r.a.createElement("div",null,r.a.createElement("h1",{className:"welcome-screen-main-title"}," ",y," "),r.a.createElement("h3",{className:"welcome-screen-sub-title"}," ",_," ")),r.a.createElement("img",{className:"person-img",src:"https://image.flaticon.com/icons/svg/145/145867.svg",alt:"person"}),r.a.createElement("div",{className:"dropdown-wrapper"},r.a.createElement(p.a,{inputProps:{readOnly:!0},placeholder:j,styles:h,value:k,onChange:function(e){return v(e)},options:N,isSearchable:!1,isDisabled:0===N.length}),r.a.createElement("div",{className:"ready-button",onClick:function(){if(g){var e=new Date;e.setDate(e.getDate()+7),a(g),l("group",g,{path:"/",expires:e})}}},r.a.createElement("p",{className:"ready-button-text"}," ",C," ",r.a.createElement(d.a,{icon:f.faChevronRight})," "))))},O=function(e){var t=e.target,a=t.id,n=t.NO,l=t.EN,c=e.lang,i=e.callback,o=e.selected?"navbar-selected":"",s="NO"===c?n:l;return r.a.createElement("div",{className:"navbar-button",onClick:function(){return i(a)}},r.a.createElement("div",{className:"".concat(o," navbar-button-icon")}),r.a.createElement("label",null," ",s.substring(0,3)," "))},N=a(117),h=function(e){var t=e.icon,a=e.label,n=e.link,l=t in N?N[t]:f[t];return r.a.createElement("div",{className:"icon-label-wrapper"},r.a.createElement(d.a,{className:"event-icon",icon:l}),!n&&r.a.createElement("label",{className:"event-icon-label"}," ",a," "),n&&r.a.createElement("a",{className:"icon-link event-icon-label",href:n}," ",a," "))},k=[{id:0,NO:"mandag",EN:"monday"},{id:1,NO:"tirsdag",EN:"tuesday"},{id:2,NO:"onsdag",EN:"wednesday"},{id:3,NO:"torsdag",EN:"thursday"},{id:4,NO:"fredag",EN:"friday"},{id:5,NO:"l\xf8rdag",EN:"saturday"},{id:6,NO:"s\xf8ndag",EN:"sunday"}],y=function(e){switch(e){case"mandag":return"monday";case"tirsdag":return"tuesday";case"onsdag":return"wednesday";case"torsdag":return"thursday";case"fredag":return"friday";case"l\xf8rdag":return"saturday";case"s\xf8ndag":return"sunday";default:return e}},_=function(e,t){return e.start_time||t.start_time?e.start_time?t.start_time?e.start_time===t.start_time?e.end_time&&!t.end_time?-1:!e.end_time&&t.end_time?1:e.end_time||t.end_time?e.end_time>t.end_time?1:e.end_time<t.end_time?-1:0:0:e.start_time>t.start_time?1:-1:1:-1:0},j=function(e,t){return e===t?0:"all"===e?-1:"all"===t?1:parseInt(e)-parseInt(t)},C=function(e,t,a){var n=a||"NO",r="".concat(t,"_").concat(n);return e[r]?"from"===t?"".concat("NO"===n?"Fra":"From"," ").concat(e[r]):e[r]:""},S=function(e){var t=e.start_time,a=e.end_time;return t?a?"".concat(t," \u2013 ").concat(a):t:""},w=function(e,t){var a=e.groups,n=t||"NO";return a.indexOf("all")>=0?"NO"===n?"Alle grupper":"All groups":"".concat("NO"===n?"Gruppe ":"Group "," ").concat(a.join(", "))},R=(a(213),function(e){var t=e.event,a=e.event.google_maps,n=e.lang,l=a&&a.startsWith("https");return r.a.createElement("div",{className:"sub-event"},r.a.createElement("div",{className:"sub-event-time-and-title"},r.a.createElement("p",{className:"sub-event-time"}," ",S(t)," "),r.a.createElement("p",{className:"sub-event-title"}," ",C(t,"title",n)," ")),l&&r.a.createElement("a",{className:"sub-event-address",href:a}," ","NO"===n?"(kart)":"(map)"," "))}),x=function(e){var t=e.data,a=t,l=Object(n.useState)(!0),c=Object(u.a)(l,2),i=c[0],o=c[1],s=Object(n.useContext)(H),m=Object(u.a)(s,1)[0].lang,E=C(a,"title",m),g=C(a,"desc",m),b=C(a,"from",m),p=S(a),v=w(a,m),O=t.address,N=t.google_maps,k=t.link,y=C(a,"linkText",m),j=i?f.faChevronUp:f.faChevronDown;return r.a.createElement("div",{className:"event-wrapper"},r.a.createElement("div",{className:"event"},r.a.createElement("label",{className:"event-title"}," ",E," "),p&&r.a.createElement(h,{icon:"faClock",label:p}),i&&O&&r.a.createElement(h,{icon:"faMap",label:O,link:N||null}),i&&t.groups&&r.a.createElement(h,{icon:"faUser",label:v}),i&&b&&r.a.createElement(h,{icon:"faComment",label:b}),i&&k&&y&&r.a.createElement(h,{icon:"faLink",label:y,link:k}),i&&g&&r.a.createElement("p",{className:"event-description"}," ",g," "),i&&a.subEvents&&a.subEvents.length>0&&r.a.createElement("div",{className:"sub-event-wrapper"},a.subEvents.sort(_).map(function(e){return r.a.createElement(R,{key:"".concat(e.parent_event_id,"-").concat(e.title_NO),event:e,lang:m})})),r.a.createElement("div",{className:"event-chevron",onClick:function(){return o(!i)}},r.a.createElement(d.a,{icon:j}))))},T=a(49),L=a.n(T),G=a(118),M=a.n(G),A=a(42),D=a.n(A),F=a(355);a(221);D.a.setAppElement("#root"),D.a.defaultStyles.overlay.backgroundColor="rgba(0,0,0,0.50)";var I=function(e){return e+-10+25*Math.random()},P=r.a.createElement("div",{className:"skeleton-wrapper"},r.a.createElement(L.a,{key:"skel-1",height:24,width:I(170)}),r.a.createElement("div",{className:"icon-label-skeletons"},r.a.createElement(L.a,{key:"skel-2",height:13,width:I(110)}),r.a.createElement(L.a,{key:"skel-3",height:13,width:I(210)}),r.a.createElement(L.a,{key:"skel-4",height:13,width:I(100)}),r.a.createElement(L.a,{key:"skel-5",height:13,width:I(155)})),",",r.a.createElement(L.a,{key:"skel-6",height:13,width:I(275),count:3})),U=function(e){var t=e.group,a=e.events,l=e.removeGroup,c=Object(n.useState)(function(){var e=(new Date).getDay()-1;return-1===e?6:e}()),i=Object(u.a)(c,2),o=i[0],s=i[1],m=Object(n.useContext)(H),E=Object(u.a)(m,1)[0],g=Object(n.useState)(!1),p=Object(u.a)(g,2),v=p[0],N=p[1],h=Object(n.useRef)(),y=a?a.filter(function(e){return function(e){for(var t=0,a=k;t<a.length;t++){var n=a[t],r=n.id,l=n.NO,c=n.EN;if(e===l||e===c)return r}return console.error("Error: Could not translate day ".concat(e," to index")),-1}(e.day_NO)===o}).filter(function(e){return function(e,t){return!(!t||!t.value)&&(!e.groups||e.groups.indexOf("all")>=0||e.groups.indexOf(t.value)>=0)}(e,t)}).sort(_).map(function(e){return r.a.createElement(x,{key:e.id,data:e})}):r.a.createElement(r.a.Fragment,null," ",P," ",P," "),j=k.map(function(e){return r.a.createElement(O,{key:e.NO,lang:E.lang,target:e,callback:function(e){s(e),h.current.scrollTop=0},selected:o===e.id})});return r.a.createElement("div",{className:"mainscreen-wrapper"},r.a.createElement(D.a,{isOpen:v,className:"change-group-modal"},r.a.createElement("span",{className:"change-group-confirmation-message"}," ",b("CHANGE_GROUP_CONFIRMATION",E)," "),r.a.createElement("div",{className:"margin-top-auto flex-row"},r.a.createElement(F.a,{onClick:function(){return N(!1)}}," ",b("NO_CANCEL",E)," "),r.a.createElement(F.a,{primary:!0,onClick:l}," ",b("YES_CHANGE_GROUP",E)," "))),r.a.createElement("a",{href:"tel:004790986911",className:"sticky-side-button"},r.a.createElement(d.a,{className:"phone-icon",icon:f.faPhone}),r.a.createElement("div",{className:"phonenumber-container"},r.a.createElement("span",null," ",b("EMERGENCY_PHONE_NUMBER",E)," "),r.a.createElement("span",{className:"phone-number"}," ",b("PHONE_NUMBER",E)," "))),r.a.createElement("div",{className:"mainscreen-header"},r.a.createElement("div",{className:"tekna-container"}," ",4===o&&r.a.createElement("img",{className:"header-tekna-logo",src:M.a,alt:"Tekna logo"})," "),r.a.createElement("label",{onClick:function(){return N(!0)}}," ","NO"===E.lang?t.label_nor:t.label_eng," ")),r.a.createElement("div",{className:"mainscreen-event-container",ref:h},y,4===o&&r.a.createElement("img",{className:"event-list-tekna-logo",src:M.a,alt:"Tekna logo"}),r.a.createElement("div",{className:"margin-bottom-XXL mobile-only"})),r.a.createElement("div",{className:"mainscreen-navbar-container"},j))},B=function(e){var t=e.state.lang,a=e.changeLanguage,n=e.position,l="NO"===t?"selected-lang":"",c="EN"===t?"selected-lang":"";return r.a.createElement("div",{className:"".concat("relative"!==n?"language-pos-absolute":""," language-select"),onClick:a},r.a.createElement("p",{className:l}," NO ")," ",r.a.createElement("p",null,"|")," ",r.a.createElement("p",{className:c}," EN "))},H=(a(322),r.a.createContext());var W=function(e){var t=e.firestore,a=Object(m.b)(["group","language"]),l=Object(u.a)(a,3),c=l[0],i=l[1],o=l[2],d=Object(n.useState)(c.group),f=Object(u.a)(d,2),E=f[0],g=f[1],b=Object(n.useState)([]),p=Object(u.a)(b,2),O=p[0],N=p[1],h=Object(n.useState)([]),k=Object(u.a)(h,2),y=k[0],_=k[1],j=Object(n.useState)([]),C=Object(u.a)(j,2),S=C[0],w=C[1],R=Object(n.useState)({lang:c.language?c.language:"NO"}),x=Object(u.a)(R,2),T=x[0],L=x[1];Object(n.useEffect)(function(){t.fetchEvents(N),t.fetchSubEvents(_),t.fetchGroupNames(w)},[t,N,w]);var G=O.map(function(e){return Object(s.a)({},e,{subEvents:y.filter(function(t){return t.parent_event_id===e.id})})});return r.a.createElement(H.Provider,{value:[T,L]},r.a.createElement("div",{className:"app"},r.a.createElement(B,{state:T,changeLanguage:function(){var e="NO"===T.lang?"EN":"NO",t=new Date;t.setDate(t.getDate()+7),i("language",e,{path:"/",expires:t}),L(Object(s.a)({},T,{lang:e}))}}),!E&&r.a.createElement(v,{groupNames:S,setGroup:g,setCookie:i}),E&&r.a.createElement(U,{events:G,group:E,removeGroup:function(){o("group"),g(void 0)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=a(367),Y=(a(323),function(e){var t=e.firestore,a=Object(n.useState)(""),l=Object(u.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(""),s=Object(u.a)(o,2),m=s[0],d=s[1],f=Object(n.useState)(""),E=Object(u.a)(f,2),g=E[0],b=E[1];Object(n.useEffect)(function(){window.scrollTo(0,0)});var p=function(e,t){t(e.target.value)},v=function(e){var t=e.code;b("auth/user-not-found"===t?"Denne brukeren finnes ikke. Pr\xf8v igjen!":"Du skrev inn feil passord!")};return r.a.createElement("div",{className:"login-screen"},r.a.createElement(K.a,{className:"login-form"},g&&r.a.createElement("label",{className:"login-error-label"}," ",g," "),r.a.createElement(K.a.Field,null,r.a.createElement("label",null," Epost "),r.a.createElement("input",{value:c,onChange:function(e){return p(e,i)},type:"email",autoComplete:"email"})),r.a.createElement(K.a.Field,null,r.a.createElement("label",null," Passord "),r.a.createElement("input",{value:m,onChange:function(e){return p(e,d)},type:"password",autoComplete:"current-password"})),r.a.createElement(F.a,{className:"login-button",onClick:function(){b(""),c&&m?t.login(c,m,v):b("Fyll inn brukernavn og passord!")}}," Logg inn ")))}),J=function(e){var t=e.check,a=e.label,n=t?f.faCheck:f.faTimes,l=["check-label-wrapper",t?"check-green":"times-red"].join(" ");return r.a.createElement("div",{className:l},r.a.createElement(d.a,{icon:n}),r.a.createElement("label",null," ",a," "))},z=function(e){var t=e.event,a=e.canManage,l=e.deleteCallback,c=e.editCallback,i=Object(n.useState)("NO"),o=Object(u.a)(i,2),s=o[0],m=o[1],E=C(t,"title",s)?C(t,"title",s):"Tittel mangler (".concat(s,")"),g=S(t),b=w(t,s),p=t.title_EN&&t.from_EN&&t.day_EN&&t.desc_EN,v=t.address&&t.address.length>0,O=t.google_maps&&t.google_maps.startsWith("https");return r.a.createElement("div",{className:"editable-event-wrapper"},r.a.createElement("div",{className:"title-language-wrapper"},r.a.createElement("label",{className:"editable-event-title"},E),r.a.createElement(B,{state:{lang:s},changeLanguage:function(){return m("NO"===s?"EN":"NO")},position:"relative"})),r.a.createElement("label",{className:"editable-event-info-label"},b),r.a.createElement("label",{className:"editable-event-info-label"},g),t.address&&r.a.createElement("label",{className:"editable-event-info-label"}," Addresse: ",t.address),r.a.createElement("div",{className:"flex-row"},v&&r.a.createElement(J,{check:O,label:O?"Har google maps":"Mangler google maps"}),!v&&r.a.createElement(J,{check:v,label:"Mangler adresse"}),!p&&r.a.createElement(J,{check:p,label:"Mangler oversettelse"}),a&&r.a.createElement(d.a,{className:"trash-icon",icon:f.faTrashAlt,onClick:function(){return l(t.id)}}),a&&r.a.createElement(d.a,{className:"pen-icon",icon:f.faPen,onClick:function(){return c(t.id)}})))},V=["mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag","s\xf8ndag"],q=a(366),X=a(363),$=a(189),Q=a(364),Z=a(365),ee=a(354),te=function(e){var t=e.textKey;return r.a.createElement("div",{className:"error-label"},b(t))},ae=function(e){var t=e.title,a=e.hour,n=e.setHour,l=e.minutes,c=e.setMinute,i=e.mandatory,o=e.error,s=e.containerStyle,u=e.minuteRef;return r.a.createElement("div",{className:"".concat(s," flex-column")},r.a.createElement("div",{className:"form-field-title"}," ",t," ",i," "),o&&r.a.createElement(te,{textKey:o}),r.a.createElement("div",{className:"flex-row"},r.a.createElement(K.a.Field,{error:0!==o.length},r.a.createElement(Q.a,{className:"time-input",placeholder:"00",value:a,onChange:n,type:"text",autoComplete:"off"})),r.a.createElement("div",{className:"time-separator flex-row align-center justify-center"},":"),r.a.createElement(K.a.Field,{error:0!==o.length},r.a.createElement(Q.a,{ref:u,className:"time-input",placeholder:"00",value:l,onChange:c,type:"text",autoComplete:"off"}))))},ne=function(e){var t=e.existingEvents,a=e.submitCallback,l=e.cancelCallback,c=e.deleteCallback,i=e.addressSuggestions,o=Object(n.useState)(!1),m=Object(u.a)(o,2),E=m[0],g=m[1],b=Object(n.useState)({hours:"",minutes:""}),p=Object(u.a)(b,2),v=p[0],O=p[1],N=Object(n.useState)({hours:"",minutes:""}),h=Object(u.a)(N,2),k=h[0],y=h[1],j=Object(n.useState)(""),C=Object(u.a)(j,2),S=C[0],w=C[1],R=Object(n.useState)(""),x=Object(u.a)(R,2),T=x[0],L=x[1],G=Object(n.useState)(""),M=Object(u.a)(G,2),A=M[0],D=M[1],I=Object(n.useState)({startTime:!1,endTime:!1,titleNO:!1,titleEN:!1,address:!1}),P=Object(u.a)(I,2),U=P[0],B=P[1],H=Object(n.useState)(""),W=Object(u.a)(H,2),Y=W[0],J=W[1],z=Object(n.useState)(void 0),V=Object(u.a)(z,2),q=V[0],X=V[1],$=Object(n.useRef)(),Z=Object(n.useRef)();Object(n.useEffect)(function(){window.scrollTo(0,0)},[]);var ee=function(e,t,a){var n=a.target.value,r=!0,l=!1,c=void 0;try{for(var i,o=n.split("")[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var u=i.value;if(u<"0"||u>"9")return}}catch(m){l=!0,c=m}finally{try{r||null==o.return||o.return()}finally{if(l)throw c}}n.length>2||parseInt(n)>("hours"===t?23:59)||("start"===e?(B(Object(s.a)({},U,{startTime:!1})),"hours"===t&&(2===n.length&&$.current.focus(),O(Object(s.a)({},v,{hours:n}))),"minutes"===t&&O(Object(s.a)({},v,{minutes:n}))):(B(Object(s.a)({},U,{endTime:!1})),"hours"===t&&(2===n.length&&Z.current.focus(),y(Object(s.a)({},k,{hours:n}))),"minutes"===t&&y(Object(s.a)({},k,{minutes:n}))))},te=function(e){D(e),e.length>=3?(-1===e.toLowerCase().indexOf("bergen")&&(e+=", Bergen"),J("https://www.google.com/maps/search/?api=1&query=".concat(e))):J("")},ne=function(e,t){"title_NO"===t?(0===A.length&&e.toLowerCase()in i&&X(i[e.toLowerCase()]),w(e),B(Object(s.a)({},U,{titleNO:!1}))):"title_EN"===t&&(L(e),B(Object(s.a)({},U,{titleEN:!1})))},re=function(){w(""),L(""),O({hours:"",minutes:""}),y({hours:"",minutes:""}),D(""),J(""),B({startTime:!1,endTime:!1,titleNO:!1,titleEN:!1,address:!1})};return r.a.createElement("div",{className:"flex-column align-center add-sub-event-wrapper"},t.sort(_).map(function(e){return r.a.createElement("div",{key:e.id,className:"".concat(E?"mobile-excluded":""," margin-top-medium flex-row existing-subevent")},r.a.createElement("label",{className:"margin-left-medium sub-event-time-label"}," ",e.start_time," \u2013 ",e.end_time," "),r.a.createElement("div",{className:"margin-left-medium flex-column sub-event-title-wrapper"},r.a.createElement("label",{className:"sub-event-title-label"}," NO: ",e.title_NO," "),r.a.createElement("label",{className:"sub-event-title-label"}," EN: ",e.title_EN," ")),r.a.createElement("label",{className:"sub-event-google-maps"}," ",e.google_maps," "),r.a.createElement(d.a,{className:"sub-event-trash",icon:f.faTrashAlt,onClick:function(){return c(e.id)}}))}),!E&&r.a.createElement(F.a,{type:"button",className:"margin-top-large full-width",onClick:l},"Tilbake"),!E&&r.a.createElement(F.a,{type:"button",primary:!0,className:"margin-top-small margin-bottom-large full-width",onClick:function(){g(!0)}}," Legg til nytt event "),E&&r.a.createElement(K.a,{className:"subevent-form"},r.a.createElement("div",{className:"flex-column margin-top-large"},r.a.createElement("div",{className:"flex-row"},r.a.createElement(ae,{title:"Start",hour:v.hours,minutes:v.minutes,setHour:function(e){return ee("start","hours",e)},setMinute:function(e){return ee("start","minutes",e)},error:U.startTime?"ERROR_START_TIME":"",mandatory:r.a.createElement("span",{style:{color:"red"}},"*"),minuteRef:$}),r.a.createElement(ae,{title:"Slutt",hour:k.hours,minutes:k.minutes,setHour:function(e){return ee("end","hours",e)},setMinute:function(e){return ee("end","minutes",e)},containerStyle:"margin-left-medium",error:U.endTime?"ERROR_END_TIME":"",minuteRef:Z})),r.a.createElement(K.a.Field,{error:U.titleNO},r.a.createElement("label",{className:"form-field-title margin-top-large"}," Norsk tittel "),r.a.createElement(Q.a,{value:S,onChange:function(e){ne(e.target.value,"title_NO")},type:"text",autoComplete:"off"})),r.a.createElement(K.a.Field,{error:U.titleEN},r.a.createElement("label",{className:"form-field-title margin-top-small"}," Engelsk tittel "),r.a.createElement(Q.a,{value:T,onChange:function(e){ne(e.target.value,"title_EN")},type:"text",x:!0,autoComplete:"off"})),r.a.createElement(K.a.Field,{error:U.address},r.a.createElement("label",{className:"form-field-title margin-top-large"}," Adresse "),q&&r.a.createElement("label",{style:{color:"blue",textDecoration:"underline"},onClick:function(){te(q),X(void 0)}}," Bruk foresl\xe5tt adresse: ",q," "),r.a.createElement(Q.a,{value:A,onChange:function(e){te(e.target.value),B(Object(s.a)({},U,{address:!1}))},type:"text",autoComplete:"off"}),Y&&r.a.createElement(F.a,{className:"test-link-button",type:"button",primary:!0,onClick:function(){return window.open(Y,"_blank")}}," Test lenke ")),r.a.createElement(F.a,{type:"button",secondary:!0,className:"margin-top-small",onClick:function(){g(!1),re()}},"Avbryt"),r.a.createElement(F.a,{type:"submit",primary:!0,className:"margin-top-small margin-bottom-large",onClick:function(){if(function(){var e={titleNO:0===S.length,titleEN:0===T.length,startTime:2!==v.hours.length||2!==v.minutes.length,endTime:1===k.hours.length||2===k.hours.length&&2!==k.minutes.length,address:A.length>0&&A.length<3};return B(e),!Object.keys(e).reduce(function(t,a){return e[a]||t},!1)}()){var e={title_NO:S,title_EN:T,start_time:"".concat(v.hours,":").concat(v.minutes)};0!==A.length&&(e.address=A),0!==Y.length&&(e.google_maps=Y),2===k.hours.length&&2===k.minutes.length&&(e.end_time="".concat(k.hours,":").concat(k.minutes)),a(e),g(!1),re()}}},"Ferdig"))))},re=(a(341),function(e){var t=e.editing,a=e.existingEvent,l=void 0===a?{}:a,c=e.availableGroups,i=e.cancelCallback,o=e.submitCallback,m=e.updateCallback,d=e.submitSubeventCallback,f=e.deleteSubeventCallback,E=e.addressSuggestions,g=l.title_NO,b=void 0===g?"":g,p=l.title_EN,v=void 0===p?"":p,O=l.desc_NO,N=void 0===O?"":O,h=l.desc_EN,k=void 0===h?"":h,_=l.google_maps,C=void 0===_?"":_,S=l.start_time,w=void 0===S?"":S,R=l.end_time,x=void 0===R?"":R,T=l.day_NO,L=void 0===T?"":T,G=l.linkText_NO,M=void 0===G?"":G,A=l.linkText_EN,D=void 0===A?"":A,I=Object(n.useState)(b),P=Object(u.a)(I,2),U=P[0],B=P[1],H=Object(n.useState)(v),W=Object(u.a)(H,2),Y=W[0],J=W[1],z=Object(n.useState)(N),V=Object(u.a)(z,2),q=V[0],X=V[1],re=Object(n.useState)(k),le=Object(u.a)(re,2),ce=le[0],ie=le[1],oe=Object(n.useState)(l.address?l.address:""),se=Object(u.a)(oe,2),ue=se[0],me=se[1],de=Object(n.useState)(C),fe=Object(u.a)(de,2),Ee=fe[0],ge=fe[1],be=Object(n.useState)(M),pe=Object(u.a)(be,2),ve=pe[0],Oe=pe[1],Ne=Object(n.useState)(D),he=Object(u.a)(Ne,2),ke=he[0],ye=he[1],_e=Object(n.useState)(l.link?l.link:""),je=Object(u.a)(_e,2),Ce=je[0],Se=je[1],we=Object(n.useState)(5===w.length?w.split(":")[0]:""),Re=Object(u.a)(we,2),xe=Re[0],Te=Re[1],Le=Object(n.useState)(5===w.length?w.split(":")[1]:""),Ge=Object(u.a)(Le,2),Me=Ge[0],Ae=Ge[1],De=Object(n.useState)(5===x.length?x.split(":")[0]:""),Fe=Object(u.a)(De,2),Ie=Fe[0],Pe=Fe[1],Ue=Object(n.useState)(5===x.length?x.split(":")[1]:""),Be=Object(u.a)(Ue,2),He=Be[0],We=Be[1],Ke=Object(n.useState)(l.groups?l.groups:1===c.length?c:[]),Ye=Object(u.a)(Ke,2),Je=Ye[0],ze=Ye[1],Ve=Object(n.useState)(L),qe=Object(u.a)(Ve,2),Xe=qe[0],$e=qe[1],Qe=Object(n.useState)({titleNO:!1,titleEN:!1,descNO:!1,descEN:!1,day:!1,address:!1,timeStart:!1,timeEnd:!1,groups:!1}),Ze=Object(u.a)(Qe,2),et=Ze[0],tt=Ze[1],at=Object(n.useState)(!1),nt=Object(u.a)(at,2),rt=nt[0],lt=nt[1],ct=Object(n.useState)(!1),it=Object(u.a)(ct,2),ot=it[0],st=it[1],ut=Object(n.useRef)(null),mt=Object(n.useRef)(null),dt=r.a.createElement("span",{style:{color:"red"}},"*"),ft=Je.indexOf("all")>=0;Object(n.useEffect)(function(){window.scrollTo(0,0)},[]);var Et=function(e){e.length<3?ge(""):(-1===e.toLowerCase().indexOf("bergen")&&(e+=", Bergen"),ge("https://www.google.com/maps/search/?api=1&query=".concat(e)))},gt=function(e,t){var a=e.target.value,n=!0,r=!1,l=void 0;try{for(var c,i=a.split("")[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var o=c.value;if(o<"0"||o>"9")return}}catch(u){r=!0,l=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}var s="startTimeHour"===t||"endTimeHour"===t?23:59;a.length>2||parseInt(a)>s||("startTimeHour"===t&&(2===a.length&&ut.current.focus(),Te(a)),"startTimeMinute"===t&&Ae(a),"endTimeHour"===t&&(2===a.length&&mt.current.focus(),Pe(a)),"endTimeMinute"===t&&We(a))},bt=function(e){tt(Object(s.a)({},et,{groups:!1})),"duplicate"===e?Je.indexOf("duplicate")>=0?ze([]):ze(["duplicate"]):"all"===e&&-1===Je.indexOf("all")?ze(["all"]):Je.indexOf(e)>=0?ze(Je.filter(function(t){return t!==e})):-1===Je.indexOf("all")&&-1===Je.indexOf("duplicate")&&ze([e].concat(Object($.a)(Je)))};return r.a.createElement("div",{className:"flex-column create-event-wrapper"},ot?r.a.createElement(ne,{existingEvents:l.subEvents?l.subEvents:[],submitCallback:function(e){l&&d(Object(s.a)({},e,{parent_event_id:l.id}))},cancelCallback:function(){return st(!1)},deleteCallback:f,addressSuggestions:E}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"create-event-header"},"Legg til et nytt event. Felter merket med ",dt," er obligatoriske."),r.a.createElement(K.a,{className:"create-event-form",onSubmit:function(){if(function(e){var t={titleNO:""===U,titleEN:""===Y,descNO:""===q,descEN:""===ce,timeStart:2!==xe.length||2!==Me.length,timeEnd:""!==Ie&&(2!==Ie.length||2!==He.length),day:""===Xe||-1===["mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag","s\xf8ndag"].indexOf(Xe),link:(0!==ke.length||0!==ve.length)&&!Ce,groups:0===Je.length};return e(t),!Object.keys(t).reduce(function(e,a){return t[a]||e},!1)}(tt)){lt(!0);var e=c.indexOf("all")>=0,a={title_NO:U,title_EN:Y,desc_NO:q,desc_EN:ce,day_NO:Xe,day_EN:y(Xe),from_NO:e?"fadderstyret":"gruppeleder",from_EN:e?"the mentor board":"group leader",start_time:"".concat(xe,":").concat(Me),groups:Je.sort(j)};ue.length>=3&&(a.address=ue),2===Ie.length&&2===He.length&&(a.end_time="".concat(Ie,":").concat(He)),Ee&&Ee.startsWith("https://")&&(a.google_maps=Ee),Ce&&(a.link=Ce,ve&&(a.linkText_NO=ve),ke&&(a.linkText_EN=ke)),t?m(Object(s.a)({},a,{id:l.id})):Je.indexOf("duplicate")>=0?c.forEach(function(e){"all"!==e&&o(Object(s.a)({},a,{groups:[e]}))}):o(a)}},loading:!c||rt},r.a.createElement(K.a.Group,{grouped:!0,className:"form-input-group"},r.a.createElement("label",{className:"form-field-header"}," Tittel ",dt," "),r.a.createElement(K.a.Field,{error:et.titleNO},r.a.createElement("label",{className:"form-field-title"}," Norsk "),et.titleNO&&r.a.createElement(te,{textKey:"ERROR_TITLE_NO"}),r.a.createElement(Q.a,{value:U,onChange:function(e){B(e.target.value),tt(Object(s.a)({},et,{titleNO:!1}))},type:"text",autoComplete:"off"})),r.a.createElement(K.a.Field,{error:et.titleEN},r.a.createElement("label",{className:"form-field-title"}," Engelsk "),et.titleEN&&r.a.createElement(te,{textKey:"ERROR_TITLE_EN"}),r.a.createElement("input",{value:Y,onChange:function(e){J(e.target.value),tt(Object(s.a)({},et,{titleEN:!1}))},type:"text",autoComplete:"off"}))),r.a.createElement(K.a.Field,{error:et.day},r.a.createElement("label",{className:"form-field-header"}," Dag ",dt," "),et.day&&r.a.createElement(te,{textKey:"ERROR_DAY"}),r.a.createElement(F.a.Group,{className:"full-width"},r.a.createElement(F.a,{primary:"mandag"===Xe,type:"button",onClick:function(){$e("mandag"),tt(Object(s.a)({},et,{day:!1}))}}," Man "),r.a.createElement(F.a,{primary:"tirsdag"===Xe,type:"button",onClick:function(){$e("tirsdag"),tt(Object(s.a)({},et,{day:!1}))}}," Tirs "),r.a.createElement(F.a,{primary:"onsdag"===Xe,type:"button",onClick:function(){$e("onsdag"),tt(Object(s.a)({},et,{day:!1}))}}," Ons ")),r.a.createElement(F.a.Group,{className:"full-width margin-top-small"},r.a.createElement(F.a,{primary:"torsdag"===Xe,type:"button",onClick:function(){$e("torsdag"),tt(Object(s.a)({},et,{day:!1}))}}," Tors "),r.a.createElement(F.a,{primary:"fredag"===Xe,type:"button",onClick:function(){$e("fredag"),tt(Object(s.a)({},et,{day:!1}))}}," Fre "),r.a.createElement(F.a,{primary:"l\xf8rdag"===Xe,type:"button",onClick:function(){$e("l\xf8rdag"),tt(Object(s.a)({},et,{day:!1}))}}," L\xf8r ")),r.a.createElement(F.a.Group,{className:"full-width margin-top-small"},r.a.createElement(F.a,{primary:"s\xf8ndag"===Xe,type:"button",onClick:function(){$e("s\xf8ndag"),tt(Object(s.a)({},et,{day:!1}))}}," S\xf8ndag "))),r.a.createElement(K.a.Group,{grouped:!0,className:"form-input-group"},r.a.createElement("label",{className:"form-field-header"}," Tid "),r.a.createElement("div",{className:"flex-row"},r.a.createElement(ae,{title:"Start",hour:xe,minutes:Me,setHour:function(e){gt(e,"startTimeHour"),tt(Object(s.a)({},et,{timeStart:!1}))},setMinute:function(e){gt(e,"startTimeMinute"),tt(Object(s.a)({},et,{timeStart:!1}))},error:et.timeStart?"ERROR_START_TIME":"",mandatory:dt,minuteRef:ut}),r.a.createElement(ae,{title:"End",hour:Ie,minutes:He,setHour:function(e){gt(e,"endTimeHour"),tt(Object(s.a)({},et,{timeEnd:!1}))},setMinute:function(e){gt(e,"endTimeMinute"),tt(Object(s.a)({},et,{timeEnd:!1}))},error:et.timeEnd?"ERROR_END_TIME":"",mandatory:!1,containerStyle:"margin-left-large",minuteRef:mt}))),r.a.createElement(K.a.Group,{grouped:!0,className:"form-input-group"},r.a.createElement("label",{className:"form-field-header"}," Beskrivelse ",dt," "),r.a.createElement(K.a.Field,{error:et.descNO},r.a.createElement("label",{className:"form-field-title"}," Norsk "),et.descNO&&r.a.createElement(te,{textKey:"ERROR_DESC_NO"}),r.a.createElement(Z.a,{error:et.desc,value:q,onChange:function(e){X(e.target.value),tt(Object(s.a)({},et,{descNO:!1}))}})),r.a.createElement(K.a.Field,{error:et.descEN},r.a.createElement("label",{className:"form-field-title"}," Engelsk "),et.descEN&&r.a.createElement(te,{textKey:"ERROR_DESC_EN"}),r.a.createElement(Z.a,{error:et.desc,value:ce,onChange:function(e){ie(e.target.value),tt(Object(s.a)({},et,{descEN:!1}))}}))),r.a.createElement(K.a.Group,{grouped:!0,className:"form-input-group"},r.a.createElement(K.a.Field,null,r.a.createElement("label",{className:"form-field-header"}," Adresse "),r.a.createElement("input",{value:ue,onChange:function(e){me(e.target.value),Ee&&Et(e.target.value)},type:"text",autoComplete:"off"})),!Ee&&r.a.createElement("div",{className:"flex-row align-center"},r.a.createElement(F.a,{type:"button",disabled:ue.length<3,content:"Generer lenke til Google maps",icon:"map",labelPosition:"left",onClick:function(){return Et(ue)},primary:!0})),Ee&&r.a.createElement(F.a.Group,{className:"margin-top-small"},r.a.createElement(F.a,{type:"button",onClick:function(){return ge("")}},"Fjern"),r.a.createElement(F.a.Or,{text:""}),r.a.createElement(F.a,{type:"button",primary:!0,onClick:function(){return window.open(Ee,"_blank")}},"Test lenke"))),r.a.createElement(K.a.Group,{grouped:!0,className:"form-input-group"},r.a.createElement("label",{className:"form-field-header"}," Lenke "),r.a.createElement(K.a.Field,null,r.a.createElement("label",{className:"form-field-title"}," Norsk tekst som vises "),r.a.createElement("input",{value:ve,onChange:function(e){return Oe(e.target.value)},type:"text",autoComplete:"off"})),r.a.createElement(K.a.Field,null,r.a.createElement("label",{className:"form-field-title"}," Engelsk tekst som vises "),r.a.createElement("input",{value:ke,onChange:function(e){return ye(e.target.value)},type:"text",autoComplete:"off"})),r.a.createElement(K.a.Field,{error:et.link},r.a.createElement("label",{className:"form-field-title"}," Lenke "),et.link&&r.a.createElement(te,{textKey:"ERROR_LINK"}),r.a.createElement("input",{value:Ce,onChange:function(e){Se(e.target.value),tt(Object(s.a)({},et,{link:!1}))},type:"text",autoComplete:"off"}))),1!==c.length&&r.a.createElement(K.a.Group,{grouped:!0,className:"form-input-group"},r.a.createElement("label",{className:"form-field-header"}," Gjelder for gruppe(r): ",dt," "),et.groups&&r.a.createElement(te,{textKey:"ERROR_GROUPS"}),r.a.createElement(K.a.Field,null,c.map(function(e){return r.a.createElement(ee.a,{key:e,label:"all"===e?"Alle grupper":"Gruppe ".concat(e),className:"group-checkbox ".concat("all"===e?"full-width":""," ").concat(et.groups?"checkbox-error":""),onClick:function(){return bt(e)},disabled:Je.indexOf("duplicate")>=0||"all"!==e&&ft,checked:Je.indexOf("duplicate")>=0||ft||Je.indexOf(e)>=0})}),!t&&c.length>=2&&r.a.createElement(ee.a,{label:"Dupliser event for ".concat(2===c.length?"begge":"alle"," ").concat(c.indexOf("all")>=0?c.length-1:c.length," gruppene"),className:"group-checkbox full-width margin-top-medium",onClick:function(){return bt("duplicate")},checked:Je.indexOf("duplicate")>=0}))),t&&r.a.createElement(F.a,{type:"button",onClick:function(){st(!0)},className:"full-width margin-bottom-small margin-top-small"},"Legg til hendelser"),r.a.createElement(F.a,{type:"button",onClick:function(){return i()},className:"full-width margin-bottom-small margin-top-medium"},"Avbryt"),r.a.createElement(F.a,{primary:!0,type:"submit",className:"full-width margin-bottom-large"},t?"Lagre":"Ferdig"))))});a(342);D.a.setAppElement("#root"),D.a.defaultStyles.overlay.backgroundColor="rgba(0,0,0,0.50)";var le=function(e){var t=e.handleClick;return r.a.createElement("div",{className:"add-event-button",onClick:t},r.a.createElement("p",null,"+"))},ce=function(e){var t=e.user,a=e.events,l=void 0===a?[]:a,c=e.addressSuggestions,i=e.firestore,o=Object(n.useState)(void 0),s=Object(u.a)(o,2),m=s[0],d=s[1],f=Object(n.useState)(!1),E=Object(u.a)(f,2),g=E[0],b=E[1],p=Object(n.useState)(void 0),v=Object(u.a)(p,2),O=v[0],N=v[1],h=Object(n.useState)(void 0),k=Object(u.a)(h,2),y=k[0],j=k[1],C=Object(n.useState)(void 0),S=Object(u.a)(C,2),w=S[0],R=S[1],x=Object(n.useState)(!1),T=Object(u.a)(x,2),L=T[0],G=T[1];Object(n.useEffect)(function(){i.fetchGroupsThatUserAdministrates(t.uid,d)},[i,t.uid]);var M=m?l.filter(function(e){return(!w||e.groups.indexOf(w)>=0)&&function(e,t){if(t.groups.indexOf("all")>=0||"all"===e)return!0;var a=!0,n=!1,r=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var i=l.value,o=!0,s=!1,u=void 0;try{for(var m,d=t.groups[Symbol.iterator]();!(o=(m=d.next()).done);o=!0)if(i===m.value)return!0}catch(f){s=!0,u=f}finally{try{o||null==d.return||d.return()}finally{if(s)throw u}}}}catch(f){n=!0,r=f}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}}(m,e)}):[],A=function(e){var t={};return V.forEach(function(e){return t[e]=[]}),e.forEach(function(e){return t[e.day_NO].push(e)}),Object.keys(t).forEach(function(e){return t[e].sort(_)}),t}(M);if(g||O)return r.a.createElement(re,{existingEvent:l.filter(function(e){return e.id===O})[0],editing:void 0!==O,cancelCallback:function(){b(!1),N(void 0),window.scrollTo(0,0)},submitCallback:function(e){i.addEvent(e,t.uid).then(b(!1)),window.scrollTo(0,0)},submitSubeventCallback:function(e){i.addSubEvent(e,t.uid)},deleteSubeventCallback:function(e){i.removeSubEvent(e)},updateCallback:function(e){i.updateEvent(e).then(N(void 0)),window.scrollTo(0,0)},availableGroups:m,addressSuggestions:c});var I=function(){i.removeEvent(y),j(void 0)};return r.a.createElement("div",{className:"event-manager-wrapper",onKeyPress:function(e){"Enter"===e.key&&y&&I()}},r.a.createElement(D.a,{isOpen:void 0!==y,className:"delete-event-modal"},y&&r.a.createElement("label",null,"Er du sikker p\xe5 at du vil slette ",r.a.createElement("span",{className:"font-bold"},M.filter(function(e){return e.id===y})[0].title_NO)," ?"),r.a.createElement("div",{className:"full-width flex-row margin-top-large"},r.a.createElement(F.a,{secondary:!0,onClick:function(){return j(void 0)}}," Nei, g\xe5 tilbake "),r.a.createElement(F.a,{primary:!0,onClick:function(){I()}}," Ja, slett! "))),r.a.createElement(q.a,{active:!m}),r.a.createElement("div",{className:"add-event-button-wrapper"},r.a.createElement(le,{handleClick:function(){return b(!0)}}),L&&r.a.createElement("div",{className:"event-filter-checkbox-wrapper margin-top-large"},r.a.createElement(X.a,{label:"\xc5pent for alle",className:"filter-group-checkbox",onClick:function(){return R("all")},checked:"all"===w}),m&&m.map(function(e){return"all"===e?null:r.a.createElement(X.a,{key:e,checked:w===e,label:"Gruppe ".concat(e),onClick:function(){return R(e)},className:"filter-group-checkbox"})})),!L&&m&&m.length>1&&r.a.createElement(F.a,{type:"button",className:"margin-top-large margin-right-auto",onClick:function(){return G(!0)}}," Legg til filter ")),m&&l&&V.map(function(e){var t=A[e].map(function(e){return r.a.createElement(z,{key:e.id,event:e,canManage:e.groups.reduce(function(e,t){return e&&m.indexOf(t)>=0},!0),deleteCallback:function(e){return j(e)},editCallback:function(e){return N(e)}})});return r.a.createElement("div",{key:e,className:"event-group"},r.a.createElement("div",{className:"event-group-day-label"}," ",e," "),t)}),r.a.createElement(F.a,{type:"button",className:"full-width margin-top-medium margin-bottom-large",primary:!0,onClick:function(){return i.logout()}}," Logg ut "))},ie=a(368),oe=(a(343),function(e){var t=e.firestore,a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)([]),m=Object(u.a)(o,2),d=m[0],f=m[1],E=Object(n.useState)(void 0),g=Object(u.a)(E,2),b=g[0],p=g[1],v=Object(n.useState)(!0),O=Object(u.a)(v,2),N=O[0],h=O[1];Object(n.useEffect)(function(){t.fetchEvents(i),t.fetchSubEvents(f),t.registerForAuthUpdates(p,h)},[t]);var k=0===c.length?[]:c.map(function(e){return Object(s.a)({},e,{subEvents:d.filter(function(t){return t.parent_event_id===e.id})})}),y=function(e){var t={};return e.forEach(function(e){e.title_NO&&e.address&&e.google_maps&&(t[e.title_NO.toLowerCase()]=e.address)}),t}(d);return r.a.createElement("div",{className:"back-office-wrapper",id:"app"},r.a.createElement(ie.a,{active:N},r.a.createElement(q.a,{active:N})),!N&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"back-office-header"}," Adminpanel "),!b&&r.a.createElement(Y,{firestore:t}),b&&r.a.createElement(ce,{user:b,firestore:t,events:k,addressSuggestions:y})))}),se=a(184),ue=a(185),me=a(91),de=a.n(me),fe=(a(346),a(350),{apiKey:"AIzaSyBz86p_Wdi_WBkLpcxhMaph4geiv69bcNc",authDomain:"fadderuke-matnat.firebaseapp.com",databaseURL:"https://fadderuke-matnat.firebaseio.com",projectId:"fadderuke-matnat",storageBucket:"fadderuke-matnat.appspot.com",messagingSenderId:"909444728352",appId:"1:909444728352:web:09ee2da490aafc00"}),Ee=new(function(){function e(){Object(se.a)(this,e),de.a.initializeApp(fe),this.db=de.a.firestore(),this.auth=de.a.auth()}return Object(ue.a)(e,[{key:"fetchEvents",value:function(e){this.db.collection("events").onSnapshot(function(t){var a=t.docs.map(function(e){return Object(s.a)({id:e.id},e.data(),{subEvents:[]})});e(a),console.log("Events fetched successfully!")})}},{key:"fetchSubEvents",value:function(e){this.db.collection("subevents").onSnapshot(function(t){e(t.docs.map(function(e){return Object(s.a)({id:e.id},e.data())})),console.log("Sub-events fetched successfully!")})}},{key:"fetchGroupNames",value:function(e){this.db.collection("groups").onSnapshot(function(t){var a=t.docs.map(function(e){return e.data()});e(a)},console.log)}},{key:"login",value:function(e,t,a){this.auth.signInWithEmailAndPassword(e,t).catch(function(e){a(e)})}},{key:"logout",value:function(){this.auth.signOut()}},{key:"registerForAuthUpdates",value:function(e,t){this.auth.onAuthStateChanged(function(a){a?(e(a),t(!1)):(e(void 0),t(!1))})}},{key:"fetchGroupsThatUserAdministrates",value:function(e,t){this.db.collection("writePermissions").doc(e).get().then(function(e){if(e.exists){var a=e.data().groups;t(a)}})}},{key:"addEvent",value:function(e,t){if(e)return this.db.collection("events").add(Object(s.a)({},e,{createdBy:t}))}},{key:"removeEvent",value:function(e){if(e)return this.db.collection("events").doc(e).delete()}},{key:"addSubEvent",value:function(e,t){if(e)return this.db.collection("subevents").add(Object(s.a)({},e,{createdBy:t}))}},{key:"removeSubEvent",value:function(e){if(e)return this.db.collection("subevents").doc(e).delete()}},{key:"updateEvent",value:function(e){if(e)return this.db.collection("events").doc(e.id).set(e)}}]),e}());c.a.render(r.a.createElement(i.a,{basename:""},r.a.createElement(o.a,{exact:!0,path:"/admin",component:function(){return r.a.createElement(oe,{firestore:Ee})}}),r.a.createElement(o.a,{exact:!0,path:"/",render:function(){return r.a.createElement(m.a,null," ",r.a.createElement(W,{firestore:Ee})," ")}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[201,1,2]]]);
//# sourceMappingURL=main.61d19620.chunk.js.map